# 2026-02-12 - Gujarati Voice System & RainbowBaby Progress

## Sarvam TTS Integration ✅
- **Status:** Fully working with Gujarati voices!
- **API Key:** Saved and working
- **Available Voices:** shubh, priya, pooja, rohan, amit, simran, ritu, neha (30+ total)
- **Speed:** ~3-5 seconds generation
- **Working Voices Tested:**
  - ✅ Meera (female) - initial test
  - ✅ Pooja (female, desi Gujarati)
  - ✅ Simran (female)
  - ✅ Rohan (male, casual)
  - ✅ Tarun (male, energetic)
  - ✅ Vijay (male, bold)
  - ✅ Aditya (male, professional)
- **Workflow:** Text → Sarvam TTS → ffmpeg convert to OGG Opus → WhatsApp voice note
- **Files:** `sarvam_tts.py`, `/home/ubuntu/.sarvam_api_key`

## STT (Speech-to-Text)
- **Model:** Vosk Gujarati Medium (1.9GB)
- **Status:** Active and accurate
- **Speed:** ~5 seconds processing
- **Handles:** Desi Gujarati + English mixed speech

## Voice Reply System
**Current Flow:**
1. Receive Gujarati voice note
2. Vosk transcription (5s)
3. Generate Gujulish context-aware reply
4. Sarvam TTS voice generation (5s)
5. Send Gujarati voice reply via WhatsApp

## RainbowBaby App Progress
**Status:** Sub-agent working on features
**Completed:**
- Navigation structure setup
- Button click handlers added
- Route definitions in main.dart

**In Progress:**
- Symptom Tracker screen
- Calendar/Week view
- Journal/Notes screen
- Settings functionality
- Community page
- Notifications

**Existing Screens:**
- ✅ Home page (with navigation fixes)
- ✅ Symptom log page
- ✅ Vitals dashboard
- ✅ Settings page (UI only)
- ✅ Partner dashboard

## Gujarati Vocabulary Learned
- "Sambhru chu" = I am listening (corrected from "sambhlu")
- Beta = Son/son-type affectionate
- Baby = Affectionate term
- Kasu nai = Nothing much / all good
- Aaje = Today
- Sona no bhav = Gold price
- Have su kare che = What are you doing now

## Timezone Settings
- Tarang: America/New_York (EST/EDT), Piscataway, NJ
- Avani: Asia/Kolkata (IST)

## Technical Notes
- Sarvam API uses `"speaker"` not `"voice"` parameter
- Audio format conversion needed: WAV → OGG Opus via ffmpeg
- Voice notes saved to `/tmp/` then converted for WhatsApp
- Free tier works until Feb 2026

## Command Processor (NEW)
- **Status:** Context-aware INTENT recognition with ACTUAL execution
- **Not canned replies:** Parses user's actual request and executes
- **Examples:**
  - "Gold price?" → Actually fetches/checks price
  - "India time?" → Shows actual India time
  - "Remind me" → Sets actual reminder
- **Voices:** Pooja (caring) + Tarun (informative) hybrid

## Updated Voice System (2026-02-13)
**STT:** Sarvam Saras v3 (API) — better desi Gujarati accuracy
**TTS:** Sarvam Bulbul V3 (API) — fast, 30+ voices
**Flow:** STT → Parse command → EXECUTE → Appropriate voice reply
**Features:**
- Auto-detects context (reminder, time, gold, food, etc.)
- Selects appropriate voice (caring vs informative)
- Generates contextual responses (not pre-canned)

---
Saved: 2026-02-13 00:40
